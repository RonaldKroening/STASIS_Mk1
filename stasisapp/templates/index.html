<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stasis Data</title>

    <!-- Include Chart.js library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<style>
    body, h1, h2, p {
        margin: 0;
        padding: 0;
    }
    input{
        width: 60%;
        padding: 10px;
        margin-top: 3%;
        border-radius: 12px;
        border: #ffffffff;
        height: 30px;
        font-size: 20px;
    }
    table {
        border-collapse: collapse;
        border: 4px solid black; /* 4px black border for the table */
        margin-left: 10%;
        width:300px;
    }
    
    
    .float-container {
        display: flex;
        {% comment %} flex:.95; {% endcomment %}

    }
    

    .float-childT a {
        {% comment %} padding: 8px 8px 8px 32px; {% endcomment %}
        text-decoration: none;
        font-size: 25px;
        color: #a3a3a3;
        width:25%;
        display: flex;
        transition: 0.3s;
        height: 100vh;
        margin-top:50%;
        
        {% comment %} background-color: #523b2c; {% endcomment %}
        padding-top: 60px;
    }  
    .float-childB {
        float: right;
        {% comment %} padding: 20px; {% endcomment %}
    }  
    th {
        background-color: #0c343dff; /* Light gray background for header row */
    }
    
    td, th {
        border: 1px solid black; /* 1px black border for cells and rows */
        padding: 8px; /* Add padding for better readability */
    }
    
    /* Apply styles to the body element */
    body {
        font-family: Arial, sans-serif;
        background-color: #a2c4c9ff;
    }
    
    /* Style the header element */
    header {
    
        padding: 10px;
        text-align: center;
    }
    tr:first-child {
        color: rgb(255, 255, 255); /* Font color for the first row */
    }

    h1, h2, p {
        margin-bottom: 10px;
    }
    
    h1 {
        margin-top: 2%;
        font-size: 24px;
    }
    
    h2 {
        font-size: 20px;
        color: #333;
    }
    
    p {
        font-size: 16px;
        line-height: 1;
        margin-top:2%;
        margin-bottom:2%;
        
    }
    h1,h2,p,h3{
        margin-left:15%;
    }
    input{
        width:600px;
        margin-top:15%;
        margin-left:15%;
    }
    

    footer {
        text-align: center;
        padding: 10px;
        background-color: #333;
        color: #fff;
    }
    table{
        margin-top:50%;
    }
    cont{
        display:flex;
    }
    .bod1{
        max-width:20%;
    }
    

    </style>
<body>
    <div class="float-container">
        <div class="float-childT">
            <table>
                <thead>
                    <tr>
                        <th colspan="2">DATA</th>
                    </tr>
                </thead>
                <tbody id="dataBody">
                </tbody>
            </table>
        </div>
    
        <div class="float-childB">
            <input type="text" id="textInput" placeholder="Enter ticker">
        
            <h1 id="stockName">Stock Name</h1>
            <h2 id="industry">Industry</h2>
            <p id="description">Lorep ipsum</p>
            <h3 id="description">Open: ##.## Now: ##.## Change: ##.##% </3>
        
        
        
            <canvas id="myChart" width="400" height="400"></canvas>
        </div>
    </div>
    <script>
        const inp = document.getElementById('textInput');
        var tckr = "";
        inp.addEventListener("keydown", function(event) {
            if (event.key === "Enter") {
                const tckr = document.getElementById('textInput').value;
                console.log("Ticker: "+tckr);
                fetch(/get_data/)
            .then(response => response.json())
            .then(data => {
                console.log(data);
                

                var ctx = document.getElementById('myChart').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Market Data',
                            data: values,
                            backgroundColor: 'rgba(75, 192, 192, 0.2)',
                            borderColor: 'rgba(75, 192, 192, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });
            }
        });
        
            
        
        function fillTable(data) {
            const dataBody = document.getElementById("dataBody");
            dataBody.innerHTML = "";
            for (const key in data) {
                if (data.hasOwnProperty(key)) {
                    const value = data[key];
                    const newRow = document.createElement("tr");

                    const keyCell = document.createElement("td");
                    keyCell.textContent = key;

                    const valueCell = document.createElement("td");
                    valueCell.textContent = value;

                    newRow.appendChild(keyCell);
                    newRow.appendChild(valueCell);

                    dataBody.appendChild(newRow);
                }
            }
        }
        
        
    </script>
</body>
</html>
